# ğŸ† ä»»åŠ¡æ‚¬èµå¹³å°

> ğŸš€ ä¸€ä¸ªç°ä»£åŒ–çš„ä»»åŠ¡æ‚¬èµå¹³å°ï¼Œè¿æ¥æŠ€èƒ½ä¸éœ€æ±‚ï¼Œåˆ›é€ ä»·å€¼ä¸æœºä¼š

ä¸“ä¸šçš„ä»»åŠ¡æ‚¬èµå¹³å°ï¼Œå‘å¸ƒè€…å¯ä»¥å‘å¸ƒå„ç§ä»»åŠ¡éœ€æ±‚ï¼Œæ¥å•è€…å¯ä»¥å±•ç¤ºè‡ªå·±çš„æŠ€èƒ½å¹¶è·å¾—æŠ¥é…¬ã€‚åŸºäº Node.js + Express + SQLite æ„å»ºï¼Œæ‹¥æœ‰ç¾è§‚çš„ç°ä»£åŒ–ç•Œé¢å’Œå®Œå–„çš„ç”¨æˆ·ä½“éªŒã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **ğŸ  ç¾è§‚é¦–é¡µ** - ç°ä»£åŒ–è®¾è®¡ï¼Œå“åº”å¼å¸ƒå±€ï¼ŒåŠ¨æ€ç»Ÿè®¡å±•ç¤º
- **ğŸ‘¥ ç”¨æˆ·ç³»ç»Ÿ** - å®Œæ•´çš„æ³¨å†Œ/ç™»å½•ä½“ç³»ï¼ŒJWTè®¤è¯ä¿éšœå®‰å…¨
- **ğŸ“‹ ä»»åŠ¡ç®¡ç†** - å‘å¸ƒã€æµè§ˆã€æ¥å–ã€å®Œæˆä»»åŠ¡çš„å®Œæ•´æµç¨‹
- **ğŸ’° æ‚¬èµæœºåˆ¶** - é€æ˜çš„æ‚¬èµé‡‘é¢è®¾ç½®å’Œç®¡ç†
- **ğŸ·ï¸ ä»»åŠ¡åˆ†ç±»** - è®¾è®¡ã€å¼€å‘ã€å†™ä½œã€ç¿»è¯‘ç­‰å¤šé¢†åŸŸæ”¯æŒ
- **â­ ç­‰çº§ä½“ç³»** - ç”¨æˆ·ç­‰çº§è¦æ±‚ï¼Œæå‡æœåŠ¡è´¨é‡

### ğŸ” å®‰å…¨ç‰¹æ€§
- **JWTèº«ä»½è®¤è¯** - å®‰å…¨çš„ç”¨æˆ·èº«ä»½éªŒè¯
- **å¯†ç åŠ å¯†** - bcryptåŠ å¯†å­˜å‚¨ç”¨æˆ·å¯†ç 
- **å¹¶å‘æ§åˆ¶** - é˜²æ­¢é‡å¤æŠ¢å•çš„äº‹åŠ¡æœºåˆ¶
- **æ•°æ®éªŒè¯** - å®Œå–„çš„å‰åç«¯æ•°æ®éªŒè¯

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘
- **ç°ä»£åŒ–UI** - ç£¨ç ‚ç»ç’ƒæ•ˆæœã€æ¸å˜è‰²å½©ã€å¹³æ»‘åŠ¨ç”»
- **ç›´è§‚æ“ä½œ** - ç®€æ´æ˜äº†çš„ç”¨æˆ·ç•Œé¢å’Œäº¤äº’æµç¨‹
- **å®æ—¶åé¦ˆ** - ç¾è§‚çš„æ¶ˆæ¯æç¤ºå’ŒçŠ¶æ€æ›´æ–°

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Node.js** >= 14.0
- **npm** >= 6.0
- æ”¯æŒçš„æ“ä½œç³»ç»Ÿï¼šWindowsã€macOSã€Linux

### ğŸ”§ æ‰‹åŠ¨å¯åŠ¨

1. **å…‹éš†é¡¹ç›®**
```bash
git clone [é¡¹ç›®åœ°å€]
cd Task
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
node backend/init_db.js
```

4. **æ’å…¥ç¤ºä¾‹æ•°æ®**
```bash
node backend/insert_sample_data_fixed.js
```

5. **å¯åŠ¨æœåŠ¡å™¨**
```bash
node backend/server.js
```

6. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000

## ğŸŒ è®¿é—®åœ°å€

| é¡µé¢ | åœ°å€ | æè¿° |
|------|------|------|
| ğŸ  é¦–é¡µ | http://localhost:3000 | å¹³å°ä»‹ç»å’Œç»Ÿè®¡ä¿¡æ¯ |
| ğŸ“‹ ä»»åŠ¡åˆ—è¡¨ | http://localhost:3000/taskList.html | æµè§ˆå’Œç­›é€‰ä»»åŠ¡ |
| ğŸ” ç™»å½•æ³¨å†Œ | http://localhost:3000/auth.html | ç”¨æˆ·è®¤è¯ç³»ç»Ÿ |
| â• å‘å¸ƒä»»åŠ¡ | http://localhost:3000/publishTask.html | åˆ›å»ºæ–°ä»»åŠ¡ |
| ğŸ‘¤ ä¸ªäººä¸­å¿ƒ | http://localhost:3000/myself.html | ä¸ªäººä¿¡æ¯å’Œæˆ‘çš„ä»»åŠ¡ |
| ğŸ“„ ä»»åŠ¡è¯¦æƒ… | http://localhost:3000/detail.html?id=1 | æŸ¥çœ‹ä»»åŠ¡è¯¦ç»†ä¿¡æ¯ |
| ğŸ“š APIæ–‡æ¡£ | http://localhost:3000/api-docs | Swagger APIæ–‡æ¡£ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **ğŸŸ¢ Node.js** - æœåŠ¡å™¨è¿è¡Œç¯å¢ƒ
- **âš¡ Express.js** - Webåº”ç”¨æ¡†æ¶
- **ğŸ—„ï¸ SQLite** - è½»é‡çº§æ•°æ®åº“
- **ğŸ”’ JWT** - èº«ä»½è®¤è¯
- **ğŸ›¡ï¸ bcrypt** - å¯†ç åŠ å¯†
- **ğŸ“– Swagger** - APIæ–‡æ¡£ç”Ÿæˆ

### å‰ç«¯æŠ€æœ¯
- **ğŸŒ HTML5** - é¡µé¢ç»“æ„
- **ğŸ¨ CSS3** - ç°ä»£åŒ–æ ·å¼è®¾è®¡
- **âš¡ JavaScript ES6+** - äº¤äº’é€»è¾‘
- **ğŸ“± å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯é€‚é…
- **ğŸª Font Awesome** - å›¾æ ‡åº“

### å¼€å‘å·¥å…·
- **ğŸ§ª Jest** - å•å…ƒæµ‹è¯•æ¡†æ¶
- **ğŸ” Supertest** - APIæµ‹è¯•å·¥å…·
- **ğŸ“ JSDoc** - ä»£ç æ–‡æ¡£

## ğŸ“ é¡¹ç›®ç»“æ„

```
Task/
â”œâ”€â”€ ğŸ“ backend/                    # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ routes/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ tasks.js           # ä»»åŠ¡ç›¸å…³APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ user.js            # ç”¨æˆ·ç›¸å…³APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ ğŸ“„ publishTask.js     # å‘å¸ƒä»»åŠ¡è·¯ç”±
â”‚   â”œâ”€â”€ ğŸ“ middlewares/
â”‚   â”‚   â””â”€â”€ ğŸ“„ auth.js            # JWTè®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ ğŸ“ tests/                 # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.test.js
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ tasks.test.js
â”‚   â”‚   â””â”€â”€ ğŸ“ helpers/
â”‚   â”œâ”€â”€ ğŸ“„ server.js              # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ ğŸ“„ db.js                  # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ init_db.js             # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ ğŸ“„ swagger.js             # APIæ–‡æ¡£é…ç½®
â”‚   â””â”€â”€ ğŸ“„ ecosystem.config.js    # PM2é…ç½®
â”œâ”€â”€ ğŸ“ frontend/                   # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ css/
â”‚   â”‚   â””â”€â”€ ğŸ“„ common.css         # é€šç”¨æ ·å¼
â”‚   â”œâ”€â”€ ğŸ“ js/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ api.js             # APIè°ƒç”¨å°è£…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.js            # è®¤è¯é€»è¾‘
â”‚   â”‚   â””â”€â”€ ğŸ“„ utils.js           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ğŸ“„ index.html             # é¦–é¡µ
â”‚   â”œâ”€â”€ ğŸ“„ taskList.html          # ä»»åŠ¡åˆ—è¡¨
â”‚   â”œâ”€â”€ ğŸ“„ auth.html              # ç™»å½•æ³¨å†Œ
â”‚   â”œâ”€â”€ ğŸ“„ publishTask.html       # å‘å¸ƒä»»åŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ myself.html            # ä¸ªäººä¸­å¿ƒ
â”‚   â”œâ”€â”€ ğŸ“„ detail.html            # ä»»åŠ¡è¯¦æƒ…
â”‚   â””â”€â”€ ğŸ“„ navbar.html            # å¯¼èˆªæ ç»„ä»¶
â”œâ”€â”€ ğŸ“ docs/                      # é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ ğŸ“„ er.md                  # æ•°æ®åº“è®¾è®¡
â”œâ”€â”€ ğŸ“„ db.sqlite                  # SQLiteæ•°æ®åº“
â”œâ”€â”€ ğŸ“„ package.json               # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ ğŸ“„ start.bat                  # Windowså¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ start.sh                   # Linux/Macå¯åŠ¨è„šæœ¬
â””â”€â”€ ğŸ“„ README.md                  # é¡¹ç›®è¯´æ˜
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·è¡¨ (user)
| å­—æ®µ | ç±»å‹ | æè¿° |
|------|------|------|
| id | INTEGER PRIMARY KEY | ç”¨æˆ·å”¯ä¸€æ ‡è¯† |
| username | TEXT UNIQUE | ç”¨æˆ·åï¼ˆ4-16ä½ï¼‰ |
| password_hash | TEXT | å¯†ç å“ˆå¸Œå€¼ |
| level | INTEGER DEFAULT 1 | ç”¨æˆ·ç­‰çº§ |
| created_at | DATETIME DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |

### ä»»åŠ¡è¡¨ (task)
| å­—æ®µ | ç±»å‹ | æè¿° |
|------|------|------|
| id | INTEGER PRIMARY KEY | ä»»åŠ¡å”¯ä¸€æ ‡è¯† |
| title | TEXT | ä»»åŠ¡æ ‡é¢˜ |
| description | TEXT | ä»»åŠ¡æè¿° |
| reward | INTEGER | æ‚¬èµé‡‘é¢ï¼ˆåˆ†ï¼‰ |
| min_level | INTEGER DEFAULT 1 | æœ€ä½ç­‰çº§è¦æ±‚ |
| status | TEXT DEFAULT 'OPEN' | ä»»åŠ¡çŠ¶æ€ |
| publisher_id | INTEGER | å‘å¸ƒè€…ID |
| taker_id | INTEGER | æ¥å•è€…ID |
| created_at | DATETIME DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |

### ä»»åŠ¡çŠ¶æ€è¯´æ˜
- **OPEN** - æ‹›å‹Ÿä¸­
- **TAKEN** - è¿›è¡Œä¸­
- **COMPLETED** - å·²å®Œæˆ

## ğŸ“š API æ–‡æ¡£

### è®¤è¯ç›¸å…³

#### ç”¨æˆ·æ³¨å†Œ
```http
POST /api/register
Content-Type: application/json

{
  "username": "ç”¨æˆ·å",
  "password": "å¯†ç "
}
```

#### ç”¨æˆ·ç™»å½•
```http
POST /api/login
Content-Type: application/json

{
  "username": "ç”¨æˆ·å", 
  "password": "å¯†ç "
}
```

### ä»»åŠ¡ç›¸å…³

#### è·å–æ‰€æœ‰ä»»åŠ¡
```http
GET /api/tasks
```

#### è·å–ä»»åŠ¡è¯¦æƒ…
```http
GET /api/tasks/:id
```

#### å‘å¸ƒæ–°ä»»åŠ¡
```http
POST /api/tasks
Authorization: Bearer <token>
Content-Type: application/json

{
  "title": "ä»»åŠ¡æ ‡é¢˜",
  "description": "ä»»åŠ¡æè¿°", 
  "reward": 500,
  "min_level": 1
}
```

#### æ¥å–ä»»åŠ¡
```http
POST /api/tasks/:id/accept
Content-Type: application/json

{
  "taker_id": 2
}
```

#### å®Œæˆä»»åŠ¡
```http
POST /api/tasks/:id/finish
Authorization: Bearer <token>
```

#### è·å–æˆ‘çš„ä»»åŠ¡
```http
GET /api/tasks/my/:takerId
Authorization: Bearer <token>
```

> ğŸ’¡ **æç¤ºï¼š** å®Œæ•´çš„APIæ–‡æ¡£å¯åœ¨ http://localhost:3000/api-docs æŸ¥çœ‹

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# ç›‘è§†æ¨¡å¼
npm run test:watch
```

### æµ‹è¯•è¦†ç›–
- âœ… ç”¨æˆ·è®¤è¯æµ‹è¯•
- âœ… ä»»åŠ¡CRUDæ“ä½œæµ‹è¯•
- âœ… ä»»åŠ¡çŠ¶æ€æµè½¬æµ‹è¯•
- âœ… å¹¶å‘å®‰å…¨æµ‹è¯•

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒ
```bash
# å…‹éš†é¡¹ç›®
git clone [é¡¹ç›®åœ°å€]
cd Task

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start
```

### ç”Ÿäº§ç¯å¢ƒ

#### ä½¿ç”¨PM2éƒ¨ç½²
```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨åº”ç”¨
pm2 start backend/ecosystem.config.js

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs
```

#### ä½¿ç”¨Dockeréƒ¨ç½²
```dockerfile
# Dockerfile
FROM node:18-alpine

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
EXPOSE 3000

CMD ["node", "backend/server.js"]
```

## ğŸ”§ å¼€å‘çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½
- [x] ğŸ  ç¾è§‚çš„ç°ä»£åŒ–é¦–é¡µ
- [x] ğŸ‘¥ å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [x] ğŸ“‹ ä»»åŠ¡å‘å¸ƒå’Œç®¡ç†åŠŸèƒ½
- [x] ğŸ’° æ‚¬èµé‡‘é¢è®¾ç½®
- [x] ğŸ·ï¸ ä»»åŠ¡åˆ†ç±»å’Œç­›é€‰
- [x] ğŸ‘¤ ä¸ªäººä¸­å¿ƒå’Œæˆ‘çš„ä»»åŠ¡
- [x] ğŸ” JWTèº«ä»½è®¤è¯
- [x] ğŸ›¡ï¸ å¯†ç åŠ å¯†å­˜å‚¨
- [x] ğŸ“± å“åº”å¼ç§»åŠ¨ç«¯é€‚é…
- [x] ğŸ¨ ç°ä»£åŒ–UIè®¾è®¡
- [x] ğŸ“š Swagger APIæ–‡æ¡£
- [x] ğŸ§ª å•å…ƒæµ‹è¯•è¦†ç›–

### ğŸ”„ å¼€å‘ä¸­åŠŸèƒ½
- [ ] ğŸ’³ æ”¯ä»˜ç³»ç»Ÿé›†æˆ
- [ ] â­ ä»»åŠ¡è¯„ä»·å’Œè¯„åˆ†
- [ ] ğŸ’¬ å®æ—¶æ¶ˆæ¯é€šçŸ¥
- [ ] ğŸ“Š æ•°æ®ç»Ÿè®¡å’Œåˆ†æ

### ğŸ“‹ å¾…å¼€å‘åŠŸèƒ½
- [ ] ğŸ”” é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ
- [ ] ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- [ ] ğŸ“ˆ é«˜çº§æ•°æ®åˆ†æ
- [ ] ğŸ¤– AIä»»åŠ¡æ¨è
- [ ] ğŸ“± ç§»åŠ¨ç«¯APP

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘è§„èŒƒ
- **ä»£ç é£æ ¼** - ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›ï¼Œéµå¾ª ESLint è§„èŒƒ
- **å‘½åè§„èŒƒ** - å˜é‡ä½¿ç”¨é©¼å³°å‘½åï¼Œæ•°æ®åº“å­—æ®µä½¿ç”¨ä¸‹åˆ’çº¿
- **æ³¨é‡Šè§„èŒƒ** - ä½¿ç”¨ JSDoc æ ¼å¼ç¼–å†™å‡½æ•°æ³¨é‡Š
- **æäº¤è§„èŒƒ** - ä½¿ç”¨ Conventional Commits æ ¼å¼

### å‚ä¸å¼€å‘
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## â“ å¸¸è§é—®é¢˜

<details>
<summary><strong>Q: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ</strong></summary>

```bash
# åˆ é™¤ç°æœ‰æ•°æ®åº“
rm db.sqlite

# é‡æ–°åˆå§‹åŒ–
node backend/init_db.js
node backend/insert_sample_data_fixed.js
```
</details>

<details>
<summary><strong>Q: å¦‚ä½•ä¿®æ”¹æœåŠ¡å™¨ç«¯å£ï¼Ÿ</strong></summary>

åœ¨ `backend/server.js` ä¸­ä¿®æ”¹ç«¯å£å·ï¼š
```javascript
const PORT = process.env.PORT || 3000;
```
</details>

<details>
<summary><strong>Q: å¦‚ä½•æ·»åŠ æ–°çš„ä»»åŠ¡åˆ†ç±»ï¼Ÿ</strong></summary>

åœ¨å‰ç«¯ `publishTask.html` ä¸­çš„åˆ†ç±»é€‰æ‹©å™¨ä¸­æ·»åŠ æ–°é€‰é¡¹ã€‚
</details>

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬ï¼

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

*è®©æŠ€èƒ½ä¸éœ€æ±‚å®Œç¾åŒ¹é…ï¼Œåˆ›é€ æ›´å¤šä»·å€¼ä¸æœºä¼š* ğŸš€

</div>